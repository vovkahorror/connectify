/*! For license information please see 764.0dfd2968.chunk.js.LICENSE.txt */
(self.webpackChunkconnectify=self.webpackChunkconnectify||[]).push([[764],{9909:function(e,t,r){"use strict";r.d(t,{r:function(){return c}});var n,a=r(2791),s=["title","titleId"];function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function o(e,t){var r=e.title,o=e.titleId,c=l(e,s);return a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"none",display:"block",shapeRendering:"auto"},width:"500px",height:"500px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t,"aria-labelledby":o},c),r?a.createElement("title",{id:o},r):null,n||(n=a.createElement("g",{transform:"translate(0 -7.5)"},a.createElement("circle",{cx:50,cy:41,r:10,fill:"#4e5d78"},a.createElement("animateTransform",{attributeName:"transform",type:"rotate",dur:"1s",repeatCount:"indefinite",keyTimes:"0;1",values:"0 50 50;360 50 50"}),a.createElement("animate",{attributeName:"r",dur:"1s",repeatCount:"indefinite",calcMode:"spline",keyTimes:"0;0.5;1",values:"0;15;0",keySplines:"0.2 0 0.8 1;0.2 0 0.8 1"})),a.createElement("circle",{cx:50,cy:41,r:10,fill:"#4e5d78"},a.createElement("animateTransform",{attributeName:"transform",type:"rotate",dur:"1s",repeatCount:"indefinite",keyTimes:"0;1",values:"180 50 50;540 50 50"}),a.createElement("animate",{attributeName:"r",dur:"1s",repeatCount:"indefinite",calcMode:"spline",keyTimes:"0;0.5;1",values:"15;0;15",keySplines:"0.2 0 0.8 1;0.2 0 0.8 1"})))))}var c=a.forwardRef(o);r.p},5376:function(e,t,r){"use strict";r.d(t,{r:function(){return c}});var n,a=r(2791),s=["title","titleId"];function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function o(e,t){var r=e.title,o=e.titleId,c=l(e,s);return a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",fill:"#ffffff",viewBox:"0 0 512 512",ref:t,"aria-labelledby":o},c),r?a.createElement("title",{id:o},r):null,n||(n=a.createElement("path",{d:"M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"})))}var c=a.forwardRef(o);r.p},4480:function(e,t,r){"use strict";r.d(t,{r:function(){return c}});var n,a=r(2791),s=["title","titleId"];function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function o(e,t){var r=e.title,o=e.titleId,c=l(e,s);return a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",fill:"#4e5d78",viewBox:"0 0 448 512",ref:t,"aria-labelledby":o},c),r?a.createElement("title",{id:o},r):null,n||(n=a.createElement("path",{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"})))}var c=a.forwardRef(o);r.p},2764:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ct}});var n,a=r(8489),s=r(7853),i=r(4531),l=r(1020),o=r(8992),c=r(8281),u=r(678),g=r(2791),f=r(3738),d="DialogItem_dialogItem__yO7Iw",m="DialogItem_light__k-OL3",p="DialogItem_dark__ksB83",h="DialogItem_active__VnGVe",v="DialogItem_photo__ppbB4",y="DialogItem_lastActivityDate__kQGou",_="DialogItem_newMessagesCount__w-ISM",b=r(2426),x=r(4286),j=r(9230),w=r(9785),O=r(3250),M=r(7701),I=r(184),D=function(e){var t=e.userName,r=e.userPhoto,n=e.id,a=e.lastDialogActivityDate,s=e.newMessagesCount,i=e.setIsTransformed,l=(0,j.$G)().i18n,o=(0,w.F)().theme,c="light"===o?m:p,u="light"===o?O.Z:M.Z,g="/dialogs/".concat(n),f=(0,x.Yy)(a),D=(0,x.Wn)(f,l.language),P=(0,x.md)(f,l.language);return(0,I.jsxs)(b.OL,{className:"".concat(d," ").concat(c),activeClassName:h,to:g,onClick:function(){return i(!0)},children:[(0,I.jsx)("img",{className:v,src:r||u,alt:"userPhoto"}),(0,I.jsx)("span",{children:t}),(0,I.jsxs)("span",{className:y,children:[(0,I.jsx)("span",{children:D}),(0,I.jsx)("span",{children:P})]}),s>0&&(0,I.jsx)("span",{className:_,children:s})]})},P="DialogsList_dialogsList__XFpAm",C="DialogsList_light__Cdnzv",E="DialogsList_dark__8WU-U",N=["state"],k=function(e){var t=e.state,r=(0,f.Z)(e,N),n="light"===(0,w.F)().theme?C:E,s=t.dialogsData.map((function(e){return(0,I.jsx)(D,(0,a.Z)({userName:e.userName,userPhoto:e.photos.large,lastDialogActivityDate:e.lastDialogActivityDate,id:e.id,newMessagesCount:e.newMessagesCount},r),e.id)}));return(0,I.jsx)("div",{className:"".concat(P," ").concat(n),children:s})},Z=r(6139),S=r(704),L=r(1117),A=r(5376),T=["title","titleId"];function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F.apply(this,arguments)}function z(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function B(e,t){var r=e.title,a=e.titleId,s=z(e,T);return g.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"none",display:"block",shapeRendering:"auto"},width:"500px",height:"500px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t,"aria-labelledby":a},s),r?g.createElement("title",{id:a},r):null,n||(n=g.createElement("g",{transform:"translate(0 -7.5)"},g.createElement("circle",{cx:50,cy:41,r:10,fill:"#ffffff"},g.createElement("animateTransform",{attributeName:"transform",type:"rotate",dur:"1s",repeatCount:"indefinite",keyTimes:"0;1",values:"0 50 50;360 50 50"}),g.createElement("animate",{attributeName:"r",dur:"1s",repeatCount:"indefinite",calcMode:"spline",keyTimes:"0;0.5;1",values:"0;15;0",keySplines:"0.2 0 0.8 1;0.2 0 0.8 1"})),g.createElement("circle",{cx:50,cy:41,r:10,fill:"#ffffff"},g.createElement("animateTransform",{attributeName:"transform",type:"rotate",dur:"1s",repeatCount:"indefinite",keyTimes:"0;1",values:"180 50 50;540 50 50"}),g.createElement("animate",{attributeName:"r",dur:"1s",repeatCount:"indefinite",calcMode:"spline",keyTimes:"0;0.5;1",values:"15;0;15",keySplines:"0.2 0 0.8 1;0.2 0 0.8 1"})))))}var H,q=g.forwardRef(B),R=(r.p,"AddMessageForm_form__QiHS1"),U="AddMessageForm_textareaWrapper__z313e",W="AddMessageForm_light__HAjP-",G="AddMessageForm_dark__naTQc",V="AddMessageForm_counter__6mAkX",X="AddMessageForm_sendButton__hu6Vn",Y="AddMessageForm_sendIcon__+0CWG",Q=(0,S.Z)({form:"dialogAddMessageForm"})((function(e){var t=e.handleSubmit,r=e.initialValues.isRequesting,n=(0,j.$G)("dialogs").t,a=(0,g.useState)(""),s=(0,u.Z)(a,2),i=s[0],l=s[1],o="light"===(0,w.F)().theme?W:G;return(0,I.jsxs)("form",{className:R,onSubmit:t,children:[(0,I.jsxs)("div",{className:"".concat(U," ").concat(o),children:[(0,I.jsx)(Z.Z,{component:L.gx,name:"newMessageBody",placeholder:n("enterYourMessage"),maxLength:1e3,onInput:function(e){l(e.currentTarget.value.slice(0,1e3))},autoFocus:document.documentElement.clientWidth>768}),i.length>900&&(0,I.jsxs)("span",{className:V,children:[i.length," / 1000"]})]}),(0,I.jsx)("button",{className:X,disabled:!i.length,children:r?(0,I.jsx)(q,{className:Y}):(0,I.jsx)(A.r,{className:Y})})]})})),$="Message_messageBlock__a0mYQ",K="Message_ownerMessageBlock__ZDEWt",J="Message_photo__7zjFw",ee="Message_messageContent__hpj0t",te="Message_light__kIQMz",re="Message_dark__qbsC6",ne="Message_messageText__g+OKW",ae="Message_messageDate__2HzZ3",se="Message_deleteMessage__h3O6N",ie="Message_deletingMessage__F0g+-",le="Message_eyeIcon__z3t-d",oe=["title","titleId"];function ce(){return ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ce.apply(this,arguments)}function ue(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ge(e,t){var r=e.title,n=e.titleId,a=ue(e,oe);return g.createElement("svg",ce({xmlns:"http://www.w3.org/2000/svg",fill:"#ffffff",viewBox:"0 0 576 512",ref:t,"aria-labelledby":n},a),r?g.createElement("title",{id:n},r):null,H||(H=g.createElement("path",{d:"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"})))}var fe,de=g.forwardRef(ge),me=(r.p,["title","titleId"]);function pe(){return pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pe.apply(this,arguments)}function he(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ve(e,t){var r=e.title,n=e.titleId,a=he(e,me);return g.createElement("svg",pe({xmlns:"http://www.w3.org/2000/svg",fill:"#ffffff",viewBox:"0 0 640 512",ref:t,"aria-labelledby":n},a),r?g.createElement("title",{id:n},r):null,fe||(fe=g.createElement("path",{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"})))}var ye,_e=g.forwardRef(ve),be=(r.p,r(4480)),xe=r(9909),je=r(9245),we=r(3296),Oe=r(5820),Me=function(e){var t=e.messageID,r=e.message,n=e.senderID,a=e.addedAt,s=e.viewed,i=e.state,l=e.userID,o=e.userPhoto,c=e.authUserID,f=e.authUserPhoto,d=e.deleteMessage,m=e.requestMessages,p=(0,j.$G)("dialogs"),h=p.t,v=p.i18n,y=(0,w.F)().theme,_="light"===y?te:re,b="light"===y?O.Z:M.Z,D=n===c,P=(D?f:o)||b,C=(0,g.useState)(!1),E=(0,u.Z)(C,2),N=E[0],k=E[1],Z=(0,x.Yy)(a),S=(0,x.Wn)(Z,v.language),L=(0,x.md)(Z,v.language);return(0,I.jsxs)("div",{className:D?K:$,children:[(0,I.jsx)("img",{className:J,src:P,alt:""}),(0,I.jsxs)("div",{className:"".concat(ee," ").concat(_),children:[(0,I.jsx)("span",{className:ne,dangerouslySetInnerHTML:{__html:r}}),(0,I.jsxs)("div",{className:ae,children:[(0,I.jsx)("span",{children:S}),(0,I.jsx)("span",{children:L})]}),D&&(s?(0,I.jsx)(de,{className:le}):(0,I.jsx)(_e,{className:le})),(0,I.jsx)(je.ZP,{theme:{algorithm:"light"===y?we.Z.defaultAlgorithm:we.Z.darkAlgorithm},children:(0,I.jsx)(Oe.Z,{title:h("deleteMessage"),description:h("sureDeleteThisMessage"),onConfirm:function(){return function(e){k(!0),d(e).then((function(){return m(l,i.messagesData.currentPage,i.messagesData.pageSize)})).catch((function(e){return alert(e.message)})).finally((function(){return k(!1)}))}(t)},okText:h("yes"),cancelText:h("no"),disabled:N,children:N?(0,I.jsx)(xe.r,{className:"".concat(ie," ").concat(_)}):(0,I.jsx)(be.r,{className:"".concat(se," ").concat(_)})})})]})]})},Ie=r(165),De="MessagesList_messagesList__p2k4A",Pe="MessagesList_light__OQ9jw",Ce="MessagesList_dark__t8YI-",Ee="MessagesList_messagesListBodyWrapper__5JXEh",Ne="MessagesList_messagesListBody__jM3Ex",ke="MessagesList_preloaderIcon__a7FSZ",Ze="MessagesListHeader_messagesListHeader__rj6Ve",Se="MessagesListHeader_light__CyQHU",Le="MessagesListHeader_dark__74++U",Ae="MessagesListHeader_userPhoto__yM9VW",Te="MessagesListHeader_userInfo__x6EuJ",Fe="MessagesListHeader_userName__5ZlPo",ze="MessagesListHeader_userActivity__WxEMT",Be="MessagesListHeader_buttons__h8jZt",He="MessagesListHeader_backIcon__flKVL",qe=r(3414),Re=["title","titleId"];function Ue(){return Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ue.apply(this,arguments)}function We(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ge(e,t){var r=e.title,n=e.titleId,a=We(e,Re);return g.createElement("svg",Ue({xmlns:"http://www.w3.org/2000/svg",height:48,viewBox:"0 -960 960 960",width:48,fill:"#ffffff",ref:t,"aria-labelledby":n},a),r?g.createElement("title",{id:n},r):null,ye||(ye=g.createElement("path",{d:"m236-494 142 142q9 9 8.5 21t-9.5 21q-9 9-21.5 9t-21.5-9L141-503q-9-9-9-21t9-21l194-194q9-9 21.5-9t21.5 9q9 9 9 21.5t-9 21.5L236-554h406q85 0 141.5 56.5T840-356v126q0 13-8.5 21.5T810-200q-13 0-21.5-8.5T780-230v-126q0-60-39-99t-99-39H236Z"})))}var Ve=g.forwardRef(Ge),Xe=(r.p,function(e){var t=e.userID,r=e.userPhoto,n=e.userName,a=e.lastUserActivityDate,s=e.currentPage,i=e.totalCount,l=e.pageSize,o=e.onPageChanged,c=e.setIsTransformed,u=(0,j.$G)("dialogs"),g=u.t,f=u.i18n,d=(0,w.F)().theme,m="light"===d?Se:Le,p="light"===d?O.Z:M.Z,h=a&&(0,x.Yy)(a),v=h&&(0,x.Wn)(h,f.language),y=h&&(0,x.md)(h,f.language);return(0,I.jsxs)("div",{className:"".concat(Ze," ").concat(m),children:[(0,I.jsx)(b.OL,{className:Fe,to:"/profile/".concat(t),children:(0,I.jsx)("img",{className:Ae,src:r||p,alt:""})}),(0,I.jsxs)("div",{className:Te,children:[(0,I.jsx)(b.OL,{className:"".concat(Fe," ").concat(m),to:"/profile/".concat(t),children:(0,I.jsx)("h2",{className:Fe,children:n})}),(0,I.jsxs)("span",{className:"".concat(ze," ").concat(m),children:[g("wasOnlineOn")," ",v," ",g("at")," ",y]})]}),(0,I.jsxs)("div",{className:Be,children:[(0,I.jsx)(Ve,{className:He,onClick:function(){return c(!1)}}),(0,I.jsx)("div",{children:(0,I.jsx)(qe.D,{currentPage:s,totalItemsCount:i,pageSize:l,portionSize:5,onPageChanged:o})})]})]})}),Ye=function(e){var t,r,n,a=e.state,s=e.userID,i=e.authUserID,l=e.authUserPhoto,o=e.requestMessages,c=e.sendMessage,f=e.deleteMessage,d=e.onPageChanged,m=e.resetMessagesData,p=e.getNewMessagesCount,h=e.reset,v=e.isTransformed,y=e.setIsTransformed,_=null===(t=a.dialogsData.find((function(e){return e.id===s})))||void 0===t?void 0:t.userName,b=null===(r=a.dialogsData.find((function(e){return e.id===s})))||void 0===r?void 0:r.photos.large,x=null===(n=a.dialogsData.find((function(e){return e.id===s})))||void 0===n?void 0:n.lastUserActivityDate,j=(0,g.useRef)(null),O=(0,g.useState)(!1),M=(0,u.Z)(O,2),D=M[0],P=M[1],C=(0,g.useState)(!1),E=(0,u.Z)(C,2),N=E[0],k=E[1],Z=(0,g.useRef)(null),S=(0,g.useRef)(null),L="light"===(0,w.F)().theme?Pe:Ce,A=a.messagesData.items.map((function(e){return(0,I.jsx)(Me,{messageID:e.id,message:e.body,senderID:e.senderId,addedAt:e.addedAt,viewed:e.viewed,state:a,userID:s,userPhoto:b,authUserID:i,authUserPhoto:l,deleteMessage:f,requestMessages:o},e.id)}));return(0,g.useEffect)((function(){var e,t=s===Z.current?a.messagesData.currentPage:1;return s&&(k(!0),o(s,t,a.messagesData.pageSize).then((function(){return p()})).then((function(){(document.documentElement.clientWidth>768||v)&&(e=setTimeout((function(){var e;return null===(e=j.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})})))})).catch((function(e){return alert(e.message)})).finally((function(){return k(!1)}))),function(){s!==Z.current&&t===S.current&&m(),Z.current=s,clearTimeout(e)}}),[s,a.messagesData.currentPage,a.messagesData.pageSize,v]),(0,I.jsx)("div",{className:"".concat(De," ").concat(L),children:N?(0,I.jsx)(Ie.r,{className:"".concat(ke," ").concat(L)}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Xe,{userID:s,userPhoto:b,userName:_,lastUserActivityDate:x,currentPage:a.messagesData.currentPage,totalCount:a.messagesData.totalCount,pageSize:a.messagesData.pageSize,onPageChanged:d,setIsTransformed:y}),(0,I.jsx)("div",{className:Ee,children:(0,I.jsxs)("div",{className:Ne,children:[A,(0,I.jsx)("div",{ref:j})]})}),(0,I.jsx)(Q,{initialValues:{isRequesting:D},onSubmit:function(e){e.newMessageBody.trim()&&(P(!0),c(s,e.newMessageBody).then((function(){return o(s,1,a.messagesData.pageSize)})).then((function(){var e;return null===(e=j.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})})).catch((function(e){return alert(e.message)})).finally((function(){return P(!1)})),h("dialogAddMessageForm"))}})]})})},Qe="Dialogs_dialogsWrapper__Yawgu",$e="Dialogs_light__Z9vH2",Ke="Dialogs_dark__MPIaI",Je="Dialogs_dialogs__1pg0J",et="Dialogs_transformed__teW7p",tt="Dialogs_noMessages__kjxK5",rt=r(9723),nt=function(e){var t=e.userID,r=e.dialogsPage,n=e.authUserID,a=e.authUserPhoto,s=e.requestDialogs,i=e.requestMessages,l=e.sendMessage,o=e.deleteMessage,c=e.onPageChanged,f=e.resetMessagesData,d=e.getNewMessagesCount,m=e.reset,p=(0,rt.k6)(),h=r,v=(0,g.useRef)(""),y="light"===(0,w.F)().theme?$e:Ke,_=(0,g.useState)(!1),b=(0,u.Z)(_,2),x=b[0],j=b[1];return(0,g.useEffect)((function(){s().then((function(){return v.current="You have no messages yet"}))}),[t,h.messagesData]),(0,g.useEffect)((function(){h.dialogsData.length&&!t&&p.push("/dialogs/".concat(h.dialogsData[0].id))}),[t,h.dialogsData]),(0,I.jsx)("div",{className:"".concat(Qe," ").concat(y),children:h.dialogsData.length?(0,I.jsxs)("div",{className:"".concat(Je," ").concat(x&&et),children:[(0,I.jsx)(k,{state:h,setIsTransformed:j}),(0,I.jsx)(Ye,{state:h,userID:t,authUserPhoto:a,authUserID:n,requestMessages:i,sendMessage:l,deleteMessage:o,onPageChanged:c,resetMessagesData:f,getNewMessagesCount:d,reset:m,isTransformed:x,setIsTransformed:j})]}):(0,I.jsx)("span",{className:tt,children:v.current})})},at=r(7375),st=r(2789),it=r(2932),lt=r(2381),ot=function(e){(0,l.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.setCurrentPage(t)},e}return(0,i.Z)(r,[{key:"render",value:function(){var e=+this.props.match.params.userID;return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(nt,(0,a.Z)({userID:e,onPageChanged:this.onPageChanged},this.props))})}}]),r}(g.Component),ct=(0,st.qC)((0,at.$j)((function(e){return{dialogsPage:e.dialogsPage,authUserID:e.auth.id,authUserPhoto:e.auth.photo}}),{requestDialogs:c.pY,requestMessages:c.$4,sendMessage:c.bG,deleteMessage:c.$Z,setCurrentPage:c.D4,resetMessagesData:c.LM,getNewMessagesCount:c.CX,reset:lt.mc}),rt.EN,it.D)(ot)},1117:function(e,t,r){"use strict";r.d(t,{gx:function(){return d},II:function(){return m},Gr:function(){return p}});var n=r(8489),a=r(3738),s=r(6139),i=r(7344),l=(r(2791),r(2311)),o=r(9785),c=r(184),u=["input","meta"],g=["input","meta"],f=function(e){e.input;var t=e.meta,r=t.touched,n=t.error,a=e.children,s=r&&n;return(0,c.jsxs)("div",{className:i.Z.formControl+" "+(s?i.Z.error:""),children:[(0,c.jsx)("div",{children:a}),s&&(0,c.jsx)("span",{children:n})]})},d=function(e){var t=e.input,r=(e.meta,(0,a.Z)(e,u)),s="light"===(0,o.F)().theme?i.Z.light:i.Z.dark;return(0,c.jsx)(f,(0,n.Z)((0,n.Z)({},e),{},{children:(0,c.jsx)(l.Z,(0,n.Z)((0,n.Z)({className:"".concat(i.Z.input," ").concat(s)},t),r))}))},m=function(e){var t=e.input,r=(e.meta,(0,a.Z)(e,g)),s="light"===(0,o.F)().theme?i.Z.light:i.Z.dark;return(0,c.jsx)(f,(0,n.Z)((0,n.Z)({},e),{},{children:(0,c.jsx)("input",(0,n.Z)((0,n.Z)({className:"".concat(i.Z.input," ").concat(s)},t),r))}))},p=function(e,t,r,a,i,l){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return(0,c.jsx)(s.Z,(0,n.Z)({placeholder:e,name:t,type:r,validate:a,component:i,autoComplete:l},o))}},3414:function(e,t,r){"use strict";r.d(t,{D:function(){return R}});var n,a=r(6222),s=r(678),i="Paginator_paginator__jM1XQ",l="Paginator_buttonsBlock__6eheV",o="Paginator_navigationButton__Cbq2S",c="Paginator_dark__3XXl2",u="Paginator_pageNumbersBlock__SX8Am",g="Paginator_pageNumber__CG+c0",f="Paginator_light__NysTg",d="Paginator_selectedPageNumber__xLcDm",m=r(2791),p=r(5999),h=r(1694),v=r.n(h),y=["title","titleId"];function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}function b(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function x(e,t){var r=e.title,a=e.titleId,s=b(e,y);return m.createElement("svg",_({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#4e5d78",ref:t,"aria-labelledby":a},s),r?m.createElement("title",{id:a},r):null,n||(n=m.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})))}var j,w=m.forwardRef(x),O=(r.p,["title","titleId"]);function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M.apply(this,arguments)}function I(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function D(e,t){var r=e.title,n=e.titleId,a=I(e,O);return m.createElement("svg",M({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#4e5d78",ref:t,"aria-labelledby":n},a),r?m.createElement("title",{id:n},r):null,j||(j=m.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})))}var P,C=m.forwardRef(D),E=(r.p,["title","titleId"]);function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(this,arguments)}function k(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Z(e,t){var r=e.title,n=e.titleId,a=k(e,E);return m.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#4e5d78",ref:t,"aria-labelledby":n},a),r?m.createElement("title",{id:n},r):null,P||(P=m.createElement("g",null,m.createElement("g",null,m.createElement("polygon",{points:"17.59,18 19,16.59 14.42,12 19,7.41 17.59,6 11.59,12"}),m.createElement("polygon",{points:"11,18 12.41,16.59 7.83,12 12.41,7.41 11,6 5,12"})))))}var S,L=m.forwardRef(Z),A=(r.p,["title","titleId"]);function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}function F(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function z(e,t){var r=e.title,n=e.titleId,a=F(e,A);return m.createElement("svg",T({xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#4e5d78",ref:t,"aria-labelledby":n},a),r?m.createElement("title",{id:n},r):null,S||(S=m.createElement("g",null,m.createElement("g",null,m.createElement("polygon",{points:"6.41,6 5,7.41 9.58,12 5,16.59 6.41,18 12.41,12"}),m.createElement("polygon",{points:"13,6 11.59,7.41 16.17,12 11.59,16.59 13,18 19,12"})))))}var B=m.forwardRef(z),H=(r.p,r(9785)),q=r(184),R=function(e){for(var t=e.currentPage,r=e.totalItemsCount,n=e.pageSize,h=e.onPageChanged,y=e.portionSize,_=void 0===y?20:y,b="light"===(0,H.F)().theme?f:c,x=Math.ceil(r/n),j=Math.ceil(t/_),O=[],M=1;M<=x;M++)O.push(M);var I=Math.ceil(x/_),D=(0,m.useState)(j),P=(0,s.Z)(D,2),E=P[0],N=P[1],k=(E-1)*_+1,Z=E*_;return(0,m.useEffect)((function(){N(j)}),[j]),(0,q.jsxs)("div",{className:i,children:[(0,q.jsxs)("div",{className:l,children:[(0,q.jsx)("button",{className:"".concat(o," ").concat(b),disabled:1===E||!r,onClick:function(){return N(1)},children:(0,q.jsx)(L,{})}),(0,q.jsx)("button",{className:"".concat(o," ").concat(b),disabled:1===E||!r,onClick:function(){return N(E-1)},children:(0,q.jsx)(w,{})})]}),(0,q.jsx)("div",{className:u,children:O.filter((function(e){return e>=k&&e<=Z})).map((function(e){return(0,q.jsx)("span",{className:v()(g,b,(0,a.Z)({},d,t===e)),onClick:function(){return h(e)},children:e},(0,p.Z)())}))}),(0,q.jsxs)("div",{className:l,children:[(0,q.jsx)("button",{className:"".concat(o," ").concat(b),disabled:E===I||!r,onClick:function(){return N(E+1)},children:(0,q.jsx)(C,{})}),(0,q.jsx)("button",{className:"".concat(o," ").concat(b),disabled:E===I||!r,onClick:function(){return N(I)},children:(0,q.jsx)(B,{})})]})]})}},2932:function(e,t,r){"use strict";r.d(t,{D:function(){return p}});var n=r(8489),a=r(3738),s=r(7853),i=r(4531),l=r(1020),o=r(8992),c=r(2791),u=r(9723),g=r(7375),f=r(184),d=["isAuth"],m=function(e){return{isAuth:e.auth.isAuth}};function p(e){var t=function(t){(0,l.Z)(c,t);var r=(0,o.Z)(c);function c(){return(0,s.Z)(this,c),r.apply(this,arguments)}return(0,i.Z)(c,[{key:"render",value:function(){var t=this.props,r=t.isAuth,s=(0,a.Z)(t,d);return r?(0,f.jsx)(e,(0,n.Z)({},s)):(0,f.jsx)(u.l_,{to:"/login"})}}]),c}(c.Component);return(0,g.$j)(m)(t)}},4286:function(e,t,r){"use strict";r.d(t,{Yy:function(){return n},Wn:function(){return a},md:function(){return s}});var n=function(e){var t=new Date(e),r=Math.abs(t.getTimezoneOffset());return t.setMinutes(t.getMinutes()+r),t},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-GB";return new Date(e).toLocaleDateString(t,{day:"numeric",month:"long",year:"numeric"})},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-GB";return new Date(e).toLocaleTimeString(t,{hour:"numeric",minute:"numeric",hour12:!1})}},1694:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var s=typeof r;if("string"===s||"number"===s)e.push(r);else if(Array.isArray(r)){if(r.length){var i=a.apply(null,r);i&&e.push(i)}}else if("object"===s)if(r.toString===Object.prototype.toString)for(var l in r)n.call(r,l)&&r[l]&&e.push(l);else e.push(r.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},7344:function(e,t){"use strict";t.Z={formControl:"FormsControls_formControl__7fIeb",error:"FormsControls_error__KmL0f",formSummaryError:"FormsControls_formSummaryError__4sOvX",input:"FormsControls_input__Wooge",light:"FormsControls_light__z4mZX",dark:"FormsControls_dark__2R8LA"}}}]);
//# sourceMappingURL=764.0dfd2968.chunk.js.map