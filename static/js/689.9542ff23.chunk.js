"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[689],{5376:function(e,s,r){r.d(s,{r:function(){return i}});var t,n=r(2791),a=["title","titleId"];function c(){return c=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},c.apply(this,arguments)}function l(e,s){if(null==e)return{};var r,t,n=function(e,s){if(null==e)return{};var r,t,n={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],s.indexOf(r)>=0||(n[r]=e[r]);return n}(e,s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],s.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function o(e,s){var r=e.title,o=e.titleId,i=l(e,a);return n.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",fill:"#ffffff",viewBox:"0 0 512 512",ref:s,"aria-labelledby":o},i),r?n.createElement("title",{id:o},r):null,t||(t=n.createElement("path",{d:"M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"})))}var i=n.forwardRef(o);r.p},5689:function(e,s,r){r.r(s),r.d(s,{default:function(){return F}});var t=r(2791),n=r(2421),a=r(7375),c=r(8489),l=r(3430),o=r(2426),i=r(6939),u="Message_message__FcjlN",f="Message_userPhoto__P3vAF",d="Message_messageInfo__m39O6",m="Message_userName__tj2Gf",h="Message_messageText__yvPaA",g=r(184),_=(0,t.memo)((function(e){var s=e.userId,r=e.photo,t=e.userName,n=e.message;return(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)(o.OL,{to:"/profile/".concat(s),children:(0,g.jsx)("img",{className:f,src:r||i.Z,alt:""})}),(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)(o.OL,{className:m,to:"/profile/".concat(s),children:(0,g.jsx)("span",{children:t})}),(0,g.jsx)("span",{className:h,children:n})]})]})})),v="Messages_messages__kHGS5",p=function(){var e=(0,a.v9)((function(e){return e.chat.messages})),s=(0,t.useRef)(null),r=(0,t.useState)(!0),n=(0,l.Z)(r,2),o=n[0],i=n[1];return(0,t.useEffect)((function(){o&&setTimeout((function(){var e;null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),100)}),[o,e]),(0,g.jsxs)("div",{className:v,onScroll:function(e){var s=e.currentTarget,r=s.scrollHeight-s.scrollTop-s.clientHeight;i(r<50)},children:[e.map((function(e){return(0,g.jsx)(_,(0,c.Z)({},e),e.id)})),(0,g.jsx)("div",{ref:s})]})},j=r(5376),x="AddMessageForm_addMessageForm__csKS+",b="AddMessageForm_inputWrapper__WFNzz",y="AddMessageForm_notice__13MXh",N="AddMessageForm_sendButton__Ql1AQ",w="AddMessageForm_sendIcon__OftKQ",O=function(){var e=(0,t.useState)(""),s=(0,l.Z)(e,2),r=s[0],c=s[1],o=(0,a.v9)((function(e){return e.chat.status})),i=(0,a.I0)(),u=function(){!r.trim()||r.length>100||(i((0,n.bG)(r)),c(""))};return(0,g.jsxs)("div",{className:x,children:[(0,g.jsxs)("div",{className:b,children:[(0,g.jsx)("input",{value:r,onKeyDown:function(e){"Enter"===e.key&&u()},placeholder:"Write a message",onChange:function(e){c(e.currentTarget.value.slice(0,100))},autoFocus:!0}),(0,g.jsxs)("span",{className:y,children:["You have ",100-r.length," characters left"]})]}),(0,g.jsx)("button",{className:N,disabled:"ready"!==o||!r.length,onClick:u,children:(0,g.jsx)(j.r,{className:w})})]})},M="Chat_chat__qn-dh",F=function(){var e=(0,a.v9)((function(e){return e.chat.status})),s=(0,a.I0)();return(0,t.useEffect)((function(){return s((0,n.WE)()),function(){s((0,n.R7)())}}),[s]),(0,g.jsxs)("main",{className:M,children:["error"===e&&(0,g.jsx)("div",{children:"Some error occurred. Please refresh the page"}),(0,g.jsx)(p,{}),(0,g.jsx)(O,{})]})}}}]);
//# sourceMappingURL=689.9542ff23.chunk.js.map