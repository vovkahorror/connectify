"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[689],{5376:function(e,n,t){t.d(n,{r:function(){return i}});var r,s=t(2791),a=["title","titleId"];function c(){return c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c.apply(this,arguments)}function u(e,n){if(null==e)return{};var t,r,s=function(e,n){if(null==e)return{};var t,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function o(e,n){var t=e.title,o=e.titleId,i=u(e,a);return s.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",fill:"#ffffff",viewBox:"0 0 512 512",ref:n,"aria-labelledby":o},i),t?s.createElement("title",{id:o},t):null,r||(r=s.createElement("path",{d:"M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"})))}var i=s.forwardRef(o);t.p},5689:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r=t(2791),s=t(2421),a=t(7375),c=t(8489),u=t(3430),o=t(2426),i=t(6939),l="Message_message__FcjlN",f="Message_userPhoto__P3vAF",d="Message_messageInfo__m39O6",h="Message_userName__tj2Gf",m="Message_messageText__yvPaA",g=t(184),v=(0,r.memo)((function(e){var n=e.userId,t=e.photo,r=e.userName,s=e.message;return(0,g.jsxs)("div",{className:l,children:[(0,g.jsx)(o.OL,{to:"/profile/".concat(n),children:(0,g.jsx)("img",{className:f,src:t||i.Z,alt:""})}),(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)(o.OL,{className:h,to:"/profile/".concat(n),children:(0,g.jsx)("span",{children:r})}),(0,g.jsx)("span",{className:m,children:s})]})]})})),p="Messages_messages__kHGS5",_="Messages_noMessages__Wl-Bk",j=function(e){var n=e.noMessages,t=(0,a.v9)((function(e){return e.chat.messages})),s=(0,r.useRef)(null),o=(0,r.useState)(!0),i=(0,u.Z)(o,2),l=i[0],f=i[1];return(0,r.useEffect)((function(){l&&setTimeout((function(){var e;null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),100)}),[l,t]),(0,g.jsxs)("div",{className:p,onScroll:function(e){var n=e.currentTarget,t=n.scrollHeight-n.scrollTop-n.clientHeight;f(t<50)},children:[t.map((function(e){return(0,g.jsx)(v,(0,c.Z)({},e),e.id)})),!t.length&&(0,g.jsx)("span",{className:_,children:n.current}),(0,g.jsx)("div",{ref:s})]})},x=t(5376),y="AddMessageForm_addMessageForm__csKS+",b="AddMessageForm_inputWrapper__WFNzz",O="AddMessageForm_notice__13MXh",M="AddMessageForm_sendButton__Ql1AQ",w="AddMessageForm_sendIcon__OftKQ",N=function(){var e=(0,r.useState)(""),n=(0,u.Z)(e,2),t=n[0],c=n[1],o=(0,a.v9)((function(e){return e.chat.status})),i=(0,a.I0)(),l=function(){!t.trim()||t.length>100||(i((0,s.bG)(t)),c(""))};return(0,g.jsxs)("div",{className:y,children:[(0,g.jsxs)("div",{className:b,children:[(0,g.jsx)("input",{value:t,onKeyDown:function(e){"Enter"===e.key&&l()},placeholder:"Write a message",onChange:function(e){c(e.currentTarget.value.slice(0,100))},autoFocus:!0}),(0,g.jsxs)("span",{className:O,children:["You have ",100-t.length," characters left"]})]}),(0,g.jsx)("button",{className:M,disabled:"ready"!==o||!t.length,onClick:l,children:(0,g.jsx)(x.r,{className:w})})]})},A="Chat_chat__qn-dh",Z=t(2789),k=t(2932),I=t(9073),S=(0,Z.qC)(k.D,I.R)((function(){var e=(0,a.v9)((function(e){return e.chat.status})),n=(0,a.I0)(),t=(0,r.useRef)("");return(0,r.useEffect)((function(){return n((0,s.WE)()).then((function(){return t.current="There are no messages in the chat yet"})),function(){n((0,s.R7)())}}),[n]),(0,g.jsxs)("main",{className:A,children:["error"===e&&(0,g.jsx)("div",{children:"Some error occurred. Please refresh the page"}),(0,g.jsx)(j,{noMessages:t}),(0,g.jsx)(N,{})]})}))},2932:function(e,n,t){t.d(n,{D:function(){return g}});var r=t(8489),s=t(3738),a=t(7853),c=t(4531),u=t(1020),o=t(804),i=t(2791),l=t(9723),f=t(7375),d=t(184),h=["isAuth"],m=function(e){return{isAuth:e.auth.isAuth}};function g(e){var n=function(n){(0,u.Z)(i,n);var t=(0,o.Z)(i);function i(){return(0,a.Z)(this,i),t.apply(this,arguments)}return(0,c.Z)(i,[{key:"render",value:function(){var n=this.props,t=n.isAuth,a=(0,s.Z)(n,h);return t?(0,d.jsx)(e,(0,r.Z)({},a)):(0,d.jsx)(l.l_,{to:"/login"})}}]),i}(i.Component);return(0,f.$j)(m)(n)}},9073:function(e,n,t){t.d(n,{R:function(){return o}});var r=t(8489),s=t(2791),a=t(8281),c=t(7375),u=t(184),o=function(e){return function(n){var t=(0,c.I0)();return(0,s.useEffect)((function(){t((0,a.CX)())}),[t]),(0,u.jsx)(e,(0,r.Z)({},n))}}},3738:function(e,n,t){function r(e,n){if(null==e)return{};var t,r,s=function(e,n){if(null==e)return{};var t,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}t.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=689.cf4751ea.chunk.js.map