"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[554],{6554:function(e,s,r){r.r(s),r.d(s,{default:function(){return E}});var t,n=r(2791),a=r(2421),c=r(7375),l=r(8489),o=r(3430),i=r(2426),u=r(6939),f="Message_message__FcjlN",d="Message_userPhoto__P3vAF",m="Message_messageInfo__m39O6",h="Message_userName__tj2Gf",_="Message_messageText__yvPaA",g=r(184),v=(0,n.memo)((function(e){var s=e.userId,r=e.photo,t=e.userName,n=e.message;return(0,g.jsxs)("div",{className:f,children:[(0,g.jsx)(i.OL,{to:"/profile/".concat(s),children:(0,g.jsx)("img",{className:d,src:r||u.Z,alt:""})}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)(i.OL,{className:h,to:"/profile/".concat(s),children:(0,g.jsx)("span",{children:t})}),(0,g.jsx)("span",{className:_,children:n})]})]})})),p="Messages_messages__kHGS5",j=function(){var e=(0,c.v9)((function(e){return e.chat.messages})),s=(0,n.useRef)(null),r=(0,n.useState)(!0),t=(0,o.Z)(r,2),a=t[0],i=t[1];return(0,n.useEffect)((function(){a&&setTimeout((function(){var e;null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),100)}),[a,e]),(0,g.jsxs)("div",{className:p,onScroll:function(e){var s=e.currentTarget,r=s.scrollHeight-s.scrollTop-s.clientHeight;i(r<50)},children:[e.map((function(e){return(0,g.jsx)(v,(0,l.Z)({},e),e.id)})),(0,g.jsx)("div",{ref:s})]})},x=["title","titleId"];function b(){return b=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},b.apply(this,arguments)}function y(e,s){if(null==e)return{};var r,t,n=function(e,s){if(null==e)return{};var r,t,n={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],s.indexOf(r)>=0||(n[r]=e[r]);return n}(e,s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],s.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function N(e,s){var r=e.title,a=e.titleId,c=y(e,x);return n.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",fill:"#ffffff",viewBox:"0 0 512 512",ref:s,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,t||(t=n.createElement("path",{d:"M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"})))}var w=n.forwardRef(N),O=(r.p,"AddMessageForm_addMessageForm__csKS+"),M="AddMessageForm_inputWrapper__WFNzz",F="AddMessageForm_notice__13MXh",I="AddMessageForm_sendButton__Ql1AQ",S="AddMessageForm_sendIcon__OftKQ",k=function(){var e=(0,n.useState)(""),s=(0,o.Z)(e,2),r=s[0],t=s[1],l=(0,c.v9)((function(e){return e.chat.status})),i=(0,c.I0)(),u=function(){!r.trim()||r.length>100||(i((0,a.bG)(r)),t(""))};return(0,g.jsxs)("div",{className:O,children:[(0,g.jsxs)("div",{className:M,children:[(0,g.jsx)("input",{value:r,onKeyDown:function(e){"Enter"===e.key&&u()},placeholder:"Write a message",onChange:function(e){t(e.currentTarget.value.slice(0,100))}}),(0,g.jsxs)("span",{className:F,children:["You have ",100-r.length," characters left"]})]}),(0,g.jsx)("button",{className:I,disabled:"ready"!==l,onClick:u,children:(0,g.jsx)(w,{className:S})})]})},A="Chat_chat__qn-dh",E=function(){var e=(0,c.v9)((function(e){return e.chat.status})),s=(0,c.I0)();return(0,n.useEffect)((function(){return s((0,a.WE)()),function(){s((0,a.R7)())}}),[s]),(0,g.jsxs)("main",{className:A,children:["error"===e&&(0,g.jsx)("div",{children:"Some error occurred. Please refresh the page"}),(0,g.jsx)(j,{}),(0,g.jsx)(k,{})]})}}}]);
//# sourceMappingURL=554.a0ffba0a.chunk.js.map