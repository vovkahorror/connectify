{"version":3,"file":"static/js/554.96ba24a2.chunk.js","mappings":"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","sources":["assets/icons/send.svg","webpack://samurai-way/./src/components/Chat/Messages/Message/Message.module.scss?2dab","components/Chat/Messages/Message/Message.tsx","webpack://samurai-way/./src/components/Chat/Messages/Messages.module.scss?4dda","components/Chat/Messages/Messages.tsx","webpack://samurai-way/./src/components/Chat/AddMessageForm/AddMessageForm.module.scss?afa3","components/Chat/AddMessageForm/AddMessageForm.tsx","webpack://samurai-way/./src/components/Chat/Chat.module.scss?3294","components/Chat/Chat.tsx"],"sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSend(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"#ffffff\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSend);\nexport default __webpack_public_path__ + \"static/media/send.c0e22ddf3e35343a66d005cd0aab4085.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"message\":\"Message_message__FcjlN\",\"userPhoto\":\"Message_userPhoto__P3vAF\",\"messageInfo\":\"Message_messageInfo__m39O6\",\"userName\":\"Message_userName__tj2Gf\",\"messageText\":\"Message_messageText__yvPaA\"};","import React, {FC, memo} from 'react';\r\nimport {ChatMessageType} from '../../../../api/chat-api';\r\nimport {NavLink} from 'react-router-dom';\r\nimport styles from './Message.module.scss';\r\n\r\nexport const Message: FC<ChatMessageType> = memo(({userId, photo, userName, message}) => {\r\n    return (\r\n        <div className={styles.message}>\r\n            <NavLink to={`/profile/${userId}`}>\r\n                <img className={styles.userPhoto} src={photo} alt=\"\"/>\r\n            </NavLink>\r\n\r\n            <div className={styles.messageInfo}>\r\n                <NavLink className={styles.userName} to={`/profile/${userId}`}>\r\n                    <span>{userName}</span>\r\n                </NavLink>\r\n                <span className={styles.messageText}>{message}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n});","// extracted by mini-css-extract-plugin\nexport default {\"messages\":\"Messages_messages__kHGS5\"};","import React, {FC, UIEvent, useEffect, useRef, useState} from 'react';\r\nimport {useSelector} from 'react-redux';\r\nimport {AppStateType} from '../../../redux/redux-store';\r\nimport {ChatMessageType} from '../../../api/chat-api';\r\nimport {Message} from './Message/Message';\r\nimport styles from './Messages.module.scss';\r\n\r\nexport const Messages: FC = () => {\r\n    const messages = useSelector<AppStateType, ChatMessageType[]>(state => state.chat.messages);\r\n    const messagesAnchorRef = useRef<HTMLDivElement>(null);\r\n    const [isAutoScroll, setIsAutoScroll] = useState(true);\r\n\r\n    const scrollHandler = (e: UIEvent<HTMLDivElement>) => {\r\n        const element = e.currentTarget;\r\n        const bottomOffset = element.scrollHeight - element.scrollTop - element.clientHeight;\r\n        if (bottomOffset < 50) {\r\n            setIsAutoScroll(true);\r\n        } else {\r\n            setIsAutoScroll(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (isAutoScroll) {\r\n            messagesAnchorRef.current?.scrollIntoView({behavior: 'smooth'});\r\n        }\r\n    }, [isAutoScroll, messages]);\r\n\r\n    return (\r\n        <div className={styles.messages} onScroll={scrollHandler}>\r\n            {messages.map(m =>\r\n                <Message key={m.id} {...m}/>,\r\n            )}\r\n            <div ref={messagesAnchorRef}></div>\r\n        </div>\r\n    );\r\n};","// extracted by mini-css-extract-plugin\nexport default {\"addMessageForm\":\"AddMessageForm_addMessageForm__csKS+\",\"inputWrapper\":\"AddMessageForm_inputWrapper__WFNzz\",\"notice\":\"AddMessageForm_notice__13MXh\",\"sendButton\":\"AddMessageForm_sendButton__Ql1AQ\",\"sendIcon\":\"AddMessageForm_sendIcon__OftKQ\"};","import React, {FC, KeyboardEvent, useState} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppStateType} from '../../../redux/redux-store';\r\nimport {StatusType} from '../../../api/chat-api';\r\nimport {sendMessage} from '../../../redux/chat-reducer';\r\nimport {ReactComponent as SendIcon} from '../../../assets/icons/send.svg';\r\nimport styles from './AddMessageForm.module.scss';\r\n\r\nexport const AddMessageForm: FC = () => {\r\n    const [message, setMessage] = useState('');\r\n    const status = useSelector<AppStateType, StatusType>(state => state.chat.status);\r\n    const dispatch = useDispatch();\r\n\r\n    const sendMessageHandler = () => {\r\n        if (!message.trim() || message.length >= 100) {\r\n            return;\r\n        }\r\n\r\n        dispatch(sendMessage(message));\r\n        setMessage('');\r\n    };\r\n\r\n    const onKeyDownHandler = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'Enter') {\r\n            sendMessageHandler();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.addMessageForm}>\r\n            <div className={styles.inputWrapper}>\r\n                <input value={message} onKeyDown={onKeyDownHandler} placeholder={'Write a message'}\r\n                       onChange={(e) => setMessage(e.currentTarget.value)}/>\r\n                <span className={styles.notice}>The maximum length of a message is 100 characters</span>\r\n            </div>\r\n            <button className={styles.sendButton} disabled={status !== 'ready' || message.length >= 100}\r\n                    onClick={sendMessageHandler}>\r\n                <SendIcon className={styles.sendIcon}/>\r\n            </button>\r\n        </div>\r\n    );\r\n};","// extracted by mini-css-extract-plugin\nexport default {\"chat\":\"Chat_chat__qn-dh\"};","import React, {FC, useEffect} from 'react';\r\nimport {StatusType} from '../../api/chat-api';\r\nimport {startMessagesListening, stopMessagesListening} from '../../redux/chat-reducer';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppStateType} from '../../redux/redux-store';\r\nimport {Messages} from './Messages/Messages';\r\nimport {AddMessageForm} from './AddMessageForm/AddMessageForm';\r\nimport styles from './Chat.module.scss';\r\n\r\nconst Chat: FC = () => {\r\n    const status = useSelector<AppStateType, StatusType>(state => state.chat.status);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(startMessagesListening());\r\n\r\n        return () => {\r\n            dispatch(stopMessagesListening());\r\n        };\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <main className={styles.chat}>\r\n            {status === 'error' && <div>Some error occurred. Please refresh the page</div>}\r\n            <Messages/>\r\n            <AddMessageForm/>\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default Chat;"],"names":["_path","Message","memo","userId","photo","userName","message","className","styles","to","src","alt","Messages","messages","useSelector","state","chat","messagesAnchorRef","useRef","useState","isAutoScroll","setIsAutoScroll","useEffect","current","scrollIntoView","behavior","onScroll","e","element","currentTarget","bottomOffset","scrollHeight","scrollTop","clientHeight","map","m","id","ref","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSend","_ref","svgRef","title","titleId","props","xmlns","fill","viewBox","d","ForwardRef","AddMessageForm","setMessage","status","dispatch","useDispatch","sendMessageHandler","trim","sendMessage","value","onKeyDown","placeholder","onChange","disabled","onClick","startMessagesListening","stopMessagesListening"],"sourceRoot":""}