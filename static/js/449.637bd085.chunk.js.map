{"version":3,"file":"static/js/449.637bd085.chunk.js","mappings":"2NACA,EAA0B,yBAA1B,EAAoE,gCAApE,EAA6G,wBAA7G,EAAqJ,+BAArJ,EAAwM,mCAAxM,EAAqP,yB,mBCOxOA,EAAa,SAACC,GACzB,IAAMC,EAAI,mBAAeD,EAAME,IAE/B,OACE,gBAAKC,UAAS,UAAKC,EAAL,YAAsBA,GAApC,UACE,SAAC,KAAD,CAASC,GAAIJ,EAAb,SAAoBD,EAAMM,UCRnBC,EAAU,SAACP,GACtB,OACE,gBAAKG,UAAWC,EAAhB,SAAiCJ,EAAMQ,W,uCCErCC,GAAcC,EAAAA,EAAAA,GAAiB,IAgBxBC,GAAsBC,EAAAA,EAAAA,GAAwB,CAACC,KAAM,wBAA/BD,EAdyB,SAACZ,GACzD,OACI,kBAAMc,SAAUd,EAAMe,aAAtB,WACI,0BACI,SAACC,EAAA,EAAD,CAAOC,UAAWC,EAAAA,GAAUZ,KAAM,iBAAkBa,SAAU,CAACC,EAAAA,EAAUX,GAClEY,YAAa,0BAExB,0BACI,6CCRHC,EAAU,SAACtB,GACpB,IAAMuB,EAAQvB,EAAMwB,YAEdC,EAAkBF,EAAMG,YAAYC,KAAI,SAAAC,GAC1C,OAAO,SAAC7B,EAAD,CAA4BO,KAAMsB,EAAOC,SAAU3B,GAAI0B,EAAO1B,IAA7C0B,EAAO1B,OAG7B4B,EAAmBP,EAAMQ,aAAaJ,KAAI,SAAAnB,GAC5C,OAAO,SAACD,EAAD,CAA0BC,QAASA,EAAQA,SAA7BA,EAAQN,OAOjC,OACI,iBAAKC,UAAWC,EAAhB,WACI,gBAAKD,UAAWC,EAAhB,SACKqB,KAEL,gBAAKtB,UAAWC,EAAhB,UACI,yBAAM0B,OAEV,SAACnB,EAAD,CAAqBG,SAZP,SAACkB,GACnBhC,EAAMiC,YAAY,MAAOD,EAAOE,uB,6BCflCC,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,OAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,EAAAA,MAAAA,KAAAA,WAOD,OAPCA,EAAAA,EAAAA,GAAAA,EAAAA,CAAAA,CAAAA,IAAAA,oBAAAA,MACF,WACIC,KAAKpC,MAAMqC,mBACd,oBAED,WACI,OAAO,SAACf,GAAD,UAAac,KAAKpC,YAC5B,EAPCmC,C,QAAyBG,WA2B/B,GAAeC,EAAAA,EAAAA,KAAuBC,EAAAA,EAAAA,KAjBd,SAACjB,GACrB,MAAO,CACHC,YAAaD,EAAMC,eAeoC,CAC3Da,eAAAA,EAAAA,GACAJ,YAAAA,EAAAA,KACAQ,EAAAA,EAHJ,CAGsBN,I,2MC9BhBO,EAAmC,SAAC,GAA8C,EAA7CC,MAA8C,IAAD,IAAtCC,KAAOC,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,MAAQC,EAAc,EAAdA,SAChEC,EAAWH,GAAWC,EAE5B,OACI,iBAAK3C,UAAWC,EAAAA,EAAAA,YAAqB,KAAO4C,EAAW5C,EAAAA,EAAAA,MAAe,IAAtE,WACI,yBAAM2C,IACLC,IAAY,0BAAOF,QAKnB5B,EAAW,SAAClB,GACrB,IAAO2C,EAA6B3C,EAA7B2C,MAAgBM,GAAajD,EAAtB4C,MAAd,OAAoC5C,EAApC,IAEA,OACI,SAAC0C,GAAD,kBAAiB1C,GAAjB,cAAwB,uCAAc2C,GAAWM,QAI5CC,EAAQ,SAAClD,GAClB,IAAO2C,EAA6B3C,EAA7B2C,MAAgBM,GAAajD,EAAtB4C,MAAd,OAAoC5C,EAApC,IAEA,OACI,SAAC0C,GAAD,kBAAiB1C,GAAjB,cAAwB,oCAAW2C,GAAWM,QAIzCE,EAAc,SAAC9B,EAAqBf,EAAc8C,EAAcC,EAAyBpC,GAAsC,IAAhBjB,EAAe,uDAAP,GAChI,OACI,SAAC,KAAD,QAAOqB,YAAaA,EAAaf,KAAMA,EAAM8C,KAAMA,EAAMjC,SAAUkC,EAC5DpC,UAAWA,GAAejB,M,uKC7BnCsD,EAA6B,SAAC/B,GAChC,MAAO,CACHgC,OAAQhC,EAAMiC,KAAKD,SAIpB,SAASd,EAAoBgB,GAA8B,IACxDC,EADuD,0IAEzD,WACI,MAA+BtB,KAAKpC,MAA7BuD,EAAP,EAAOA,OAAWN,GAAlB,YAEA,OAAKM,GAIE,SAACE,GAAD,UAAeR,KAHX,SAAC,KAAD,CAAU5C,GAAI,eAN4B,GAC7BiC,EAAAA,WAYhC,OAAOE,EAAAA,EAAAA,IAAQc,EAARd,CAAoCkB,K,4EC5BxC,IAAMtC,EAAW,SAACuC,GACrB,OAAOA,OAAQC,EAAY,qBAGlBlD,EAAmB,SAACmD,GAAD,OAAuB,SAACF,GACpD,OAAOA,EAAMG,OAASD,EAAf,wBAA4CA,EAA5C,iBAAkED,K,mBCJ7E,KAAgB,YAAc,mCAAmC,MAAQ,6BAA6B,iBAAmB","sources":["webpack://samurai-way/./src/components/Dialogs/Dialogs.module.css?1b2e","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/AddMessageForm/AddMessageForm.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx","components/common/FormsControls/FormsControls.tsx","hoc/withAuthRedirect.tsx","utils/validators/validators.ts","webpack://samurai-way/./src/components/common/FormsControls/FormsControls.module.css?eb50"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__Rd8Gt\",\"dialogs__items\":\"Dialogs_dialogs__items__mN3uO\",\"dialog\":\"Dialogs_dialog__lMLjy\",\"dialog_active\":\"Dialogs_dialog_active__s9zRb\",\"dialogs__messages\":\"Dialogs_dialogs__messages__fvzS0\",\"message\":\"Dialogs_message__MBn3-\"};","import styles from \"../Dialogs.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype DialogItemType = {\r\n  name: string;\r\n  id: number;\r\n}\r\n\r\nexport const DialogItem = (props: DialogItemType) => {\r\n  const path = `/dialogs/${props.id}`;\r\n\r\n  return (\r\n    <div className={`${styles.dialog} ${styles.dialog_active}`}>\r\n      <NavLink to={path}>{props.name}</NavLink>\r\n    </div>\r\n  )\r\n}","import styles from \"../Dialogs.module.css\";\r\n\r\ntype MessageType = {\r\n  message: string;\r\n}\r\nexport const Message = (props: MessageType) => {\r\n  return (\r\n    <div className={styles.message}>{props.message}</div>\r\n  )\r\n}","import {Field, InjectedFormProps, reduxForm} from 'redux-form';\r\nimport {FC} from 'react';\r\nimport {Textarea} from '../../common/FormsControls/FormsControls';\r\nimport {maxLengthCreator, required} from '../../../utils/validators/validators';\r\n\r\nexport type FormDataType = {\r\n    newMessageBody: string;\r\n}\r\n\r\nconst maxLength70 = maxLengthCreator(70);\r\n\r\nconst AddMessageForm: FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} name={'newMessageBody'} validate={[required, maxLength70]}\r\n                       placeholder={'Enter your message'}/>\r\n            </div>\r\n            <div>\r\n                <button>Send</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport const AddMessageFormRedux = reduxForm<FormDataType>({form: 'dialogAddMessageForm'})(AddMessageForm);","import styles from './Dialogs.module.css';\r\nimport {DialogItem} from './DialogItem/DialogItem';\r\nimport {Message} from './Message/Message';\r\nimport {DialogsPageType} from '../../redux/dialogs-reducer';\r\nimport {AddMessageFormRedux, FormDataType} from './AddMessageForm/AddMessageForm';\r\n\r\ntype DialogsPropsType = {\r\n    sendMessage: (userID: number, newMessageBody: string) => void;\r\n    dialogsPage: DialogsPageType;\r\n}\r\n\r\nexport const Dialogs = (props: DialogsPropsType) => {\r\n    const state = props.dialogsPage;\r\n\r\n    const dialogsElements = state.dialogsData.map(dialog => {\r\n        return <DialogItem key={dialog.id} name={dialog.userName} id={dialog.id}/>;\r\n    });\r\n\r\n    const messagesElements = state.messagesData.map(message => {\r\n        return <Message key={message.id} message={message.message}/>;\r\n    });\r\n\r\n    const addNewMessage = (values: FormDataType) => {\r\n        props.sendMessage(27772, values.newMessageBody);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.dialogs}>\r\n            <div className={styles.dialogs__items}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={styles.dialogs__messages}>\r\n                <div>{messagesElements}</div>\r\n            </div>\r\n            <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n        </div>\r\n    );\r\n};\r\n\r\n","import {DialogsPageType, requestDialogs, sendMessage} from '../../redux/dialogs-reducer';\r\nimport {Dialogs} from './Dialogs';\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from '../../redux/redux-store';\r\nimport {compose} from 'redux';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport React, {ComponentType} from 'react';\r\n\r\nclass DialogsContainer extends React.Component<DialogsContainerPropsType> {\r\n    componentDidMount() {\r\n        this.props.requestDialogs();\r\n    }\r\n\r\n    render() {\r\n        return <Dialogs {...this.props} />;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    };\r\n};\r\n\r\ntype MapStateToPropsType = {\r\n    dialogsPage: DialogsPageType;\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    requestDialogs: () => void;\r\n    sendMessage: (userID: number, newMessageBody: string) => void;\r\n}\r\n\r\ntype DialogsContainerPropsType = MapStateToPropsType & MapDispatchToPropsType;\r\n\r\nexport default compose<ComponentType>(connect(mapStateToProps, {\r\n    requestDialogs,\r\n    sendMessage,\r\n}), withAuthRedirect)(DialogsContainer);","import {Field, Validator, WrappedFieldProps} from 'redux-form';\r\nimport styles from './FormsControls.module.css';\r\nimport React, {FC, ReactNode} from 'react';\r\n\r\ntype FormControlType = WrappedFieldProps & {\r\n    children: ReactNode;\r\n}\r\n\r\nconst FormControl: FC<FormControlType> = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>{children}</div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Textarea = (props: WrappedFieldProps) => {\r\n    const {input, meta, ...restProps} = props;\r\n\r\n    return (\r\n        <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n    );\r\n};\r\n\r\nexport const Input = (props: WrappedFieldProps) => {\r\n    const {input, meta, ...restProps} = props;\r\n\r\n    return (\r\n        <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n    );\r\n};\r\n\r\nexport const createField = (placeholder: string, name: string, type: string, validators: Validator[], component: ReactNode, props = {}) => {\r\n    return (\r\n        <Field placeholder={placeholder} name={name} type={type} validate={validators}\r\n               component={component} {...props}/>\r\n    );\r\n};","import React, {ComponentType} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {AppStateType} from '../redux/redux-store';\r\nimport {connect} from 'react-redux';\r\n\r\ntype MapStateForRedirectType = {\r\n    isAuth: boolean;\r\n}\r\n\r\nconst mapStateToPropsForRedirect = (state: AppStateType): MapStateForRedirectType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    };\r\n};\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n    class RedirectComponent extends React.Component<MapStateForRedirectType> {\r\n        render() {\r\n            const {isAuth, ...restProps} = this.props;\r\n\r\n            if (!isAuth) {\r\n                return <Redirect to={'/login'}/>;\r\n            }\r\n\r\n            return <Component {...restProps as T}/>;\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}","export const required = (value: string) => {\r\n    return value ? undefined : 'Field is required';\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    return value.length > maxLength ? `Max length is ${maxLength} symbols` : undefined;\r\n};","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormsControls_formControl__7Kujw\",\"error\":\"FormsControls_error__VtPjP\",\"formSummaryError\":\"FormsControls_formSummaryError__u1JdX\"};"],"names":["DialogItem","props","path","id","className","styles","to","name","Message","message","maxLength70","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","Dialogs","state","dialogsPage","dialogsElements","dialogsData","map","dialog","userName","messagesElements","messagesData","values","sendMessage","newMessageBody","DialogsContainer","this","requestDialogs","React","compose","connect","withAuthRedirect","FormControl","input","meta","touched","error","children","hasError","restProps","Input","createField","type","validators","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent","value","undefined","maxLength","length"],"sourceRoot":""}